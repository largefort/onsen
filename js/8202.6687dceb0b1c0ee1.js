"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8202,8410,1549],{8971:function(e,t,n){var i,r=n(7294);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:15,height:9,fill:"none"},e),i||(i=r.createElement("path",{stroke:"currentColor",d:"M14 1 7.636 7.364 1.272 1"})))}},1549:function(e,t,n){n.r(t);var i,r=n(7294);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"6.636 6.636 12.728 12.728"},e),i||(i=r.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M19.364 6.636 13 13 6.636 6.636M6.636 19.365 13 13l6.364 6.364"})))}},8202:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var i,r,o,a=n(4043),s=n(5893),l=n(1549),u=n(7294);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var d=function(e){return u.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:4,height:18,fill:"none"},e),i||(i=u.createElement("rect",{width:4,height:4,fill:"#fff",rx:2})),r||(r=u.createElement("rect",{width:4,height:4,y:7,fill:"#fff",rx:2})),o||(o=u.createElement("rect",{width:4,height:4,y:14,fill:"#fff",rx:2})))},f=n(1779),h=n(1526),g=n(1016),p=n(8410);function m(){var e=(0,a._)(u.useState(!1),2),t=e[0],n=e[1],i=function(){n(!1)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(f.fC,{open:t,onOpenChange:n,children:[(0,s.jsx)(f.xz,{asChild:!0,className:"order-3",children:(0,s.jsx)("button",{className:"h-9 w-9 hover:bg-lightText hover:bg-opacity-20 rounded-md cursor-pointer font-mono uppercase justify-center items-center flex text-white ".concat(t?"invisible":"lg:hidden"),"aria-label":"Mobile menu",onClick:function(e){return!e},children:t?(0,s.jsx)(l.default,{onClick:function(){i()}}):(0,s.jsx)(d,{})})}),(0,s.jsx)(h.M,{children:t?(0,s.jsxs)(f.h_,{forceMount:!0,children:[(0,s.jsx)(f.aV,{asChild:!0,forceMount:!0,children:(0,s.jsx)(g.m.div,{className:"fixed inset-0 z-50 cursor-pointer bg-background/70",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,ease:"easeInOut"}})}),(0,s.jsx)(f.VY,{asChild:!0,forceMount:!0,children:(0,s.jsxs)(g.m.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"120%"},transition:{duration:.4,ease:"easeInOut"},className:"fixed top-3 bottom-3 right-3 rounded-lg max-h-[100dvh] !max-w-[92%] md:!w-[400px] overflow-y-auto overflow-x-hidden rounded-br-3xl z-50 bg-panel focus:outline-none",children:[(0,s.jsx)(p.default,{closeMenu:i,isMobileMenu:!0}),(0,s.jsx)("button",{"aria-label":"Close menu",className:"fixed z-80 top-4 right-3 cursor-pointer p-2",onClick:i,children:(0,s.jsx)(l.default,{})})]})})]}):null})]})})}},8410:function(e,t,n){n.r(t);var i=n(2253),r=n(4932),o=n(4043),a=n(248),s=n(5893),l=n(8971),u=n(4689),c=n(8262),d=n(362),f=n(2060),h=n(3933),g=n(4862),p=n(3293),m=n(1016),x=n(1526),v=n(5947),w=n(1163),b=n(7294),j=function(){return(0,s.jsx)("hr",{className:"text-[#393849]"})},y=function(e){var t=e.closeMenu,n=e.isMobileMenu,i=(0,d.a)(),r=i.refs,u=i.questionsPage,h=i.pageAction,v=i.pageActionData,j=i.methods,y=j.setAgentInfo,_=j.setQuestionsPage,N=j.setAlreadyAskedQuestions,k=i.agentInfo,E=k.sampleQuestions,C=k.originalQuestions,A=k.chatId,O=(0,b.useRef)(null),T=(0,f.MI)().queryAgent,S=(0,c.useEventLogger)().eventLogger,q=(0,o._)((0,b.useState)(15),2),P=q[0],I=q[1],R=(0,w.useRouter)(),G=function(){if(O.current){var e=O.current.scrollHeight,t=O.current.clientHeight;O.current.scrollTo({top:e-t,behavior:"smooth"})}},Q=function(e,n){t&&t();var i,o,s=(0,a._)(E);s.splice(n,1),y({sampleQuestions:s}),T(e,S,!0,{click_location:"agent_menu"}),N(function(t){return(0,a._)(t).concat([e])}),A&&"N/A"!==A?S(p.uE.SUGGESTED_QUERY_MADE,{query:e,message:e,click_location:"agent_menu"}):(0,g.h$)({eventName:p.uE.SUGGESTED_QUERY_MADE,payload:{query:e,message:e,click_location:"agent_menu"}}),null==r||null===(o=r.input)||void 0===o||null===(i=o.current)||void 0===i||i.focus()};(0,b.useEffect)(function(){("suggestions"!==h||u!==parseInt(v))&&u>0&&setTimeout(G,75)},[u]);var D=(null==C?void 0:C.length)>(null==E?void 0:E.length);return(0,s.jsxs)("div",{className:"grid grid-rows-auto-1fr overflow-y-hidden !gap-y-4",children:[(0,s.jsx)("h2",{className:"font-mono text-xl uppercase",children:"Suggestions"}),(null==E?void 0:E.length)?(0,s.jsx)(m.m.ul,{ref:O,"data-cy":"suggested_questions_list",className:"grid gap-y-4 auto-rows-min h-full overflow-x-hidden overflow-y-auto",children:(0,s.jsx)(x.M,{initial:!1,children:E.filter(function(e,t){return t<P}).map(function(e,t){return(0,s.jsx)(M,{isMobileMenu:n,questionText:e,onClick:function(){Q(e,t)}},t)})})}):(0,s.jsx)("div",{className:"grid grid-rows-1fr-min",children:(0,s.jsx)("p",{className:"text-lightText",children:"There are no suggestions to show"})}),D||P<E.length&&E.length>15?(0,s.jsxs)("button",{"data-cy":"show_more_questions",className:"font-mono grid-cols-auto-1fr gap-x-2 items-center grid justify-self-end underline",onClick:function(){I(function(e){return e+15});var e,t=Number(null===(e=R.asPath)||void 0===e?void 0:e.split("/").pop());t?_(t+1):_(1)},children:["Show more ",(0,s.jsx)(l.Z,{})]}):null]})},M=function(e){var t=e.questionText,n=e.onClick,a=e.isMobileMenu,l=(0,o._)((0,v.oO)(),2),u=l[0],c=l[1];return(0,s.jsx)(m.m.li,(0,r._)((0,i._)({},a?{}:{layout:!0,initial:"out",animate:u?"in":"out",whileTap:"tapped",variants:{in:{scaleY:1,opacity:1},tapped:{scale:.98,opacity:.5,transition:{duration:.1}}},onAnimationComplete:function(){return!u&&c()},transition:{type:"spring",stiffness:500,damping:50,mass:1}}),{children:(0,s.jsx)(h.T,{"data-cy":"single_question_in_right_menu",source:"right-menu",containerClassName:"!rounded-[5px] !w-full",onClick:n,questionText:t})}))},_=function(e){var t=e.children,n=e.isMobileMenu;return(0,s.jsx)(x.M,{children:(0,s.jsx)("div",{className:"".concat(n?"!grid":"hidden lg:grid"," overflow-y-hidden grid grid-cols-1fr-min max-lg:top-0 w-full max-lg:bg-panel py-3 justify-center sm:w-[400px] overflow-x-hidden px-5 border-b border-b-darkBackground bg-panel lg:bg-darkBackground grid-rows-1fr-auto z-0"),children:(0,s.jsx)("div",{"data-cy":"right_menu_profile_questions",className:"overflow-y-hidden pt-3 max-lg:bg-panel flex-grow grid lg:grid-rows-auto-auto-auto-1fr gap-y-6 gap-2 relative",children:t})})})},N=function(e){var t,n=e.closeMenu,i=(0,d.a)(),r=i.isAgentMaker,o=i.chatScrollState,a=i.agentInfo,l=a.publicName,c=a.displayName,f=a.configuration,h=(0,w.useRouter)();return(0,s.jsx)("div",{className:"grid justify-start w-full",children:(0,s.jsx)(u.n8,{isEditable:!1,shouldPushAvatarToTop:!1,showStats:!1,title:c,onClick:function(){try{window.parent.postMessage({event:"AGENT_CHANGE",data:l},"https://studio.oneai.com")}catch(e){}},publicName:l,isAgentMaker:r,avatar:(null==f?void 0:null===(t=f.widget)||void 0===t?void 0:t.avatar)||"",titleClassName:"!text-start",type:"SMALL",avatarDimensions:"!h-[64px] !w-[64px] !clip-64",containerClassName:"!grid-cols-auto-1fr",chatScrollState:o,shouldShowReadProfile:!0,onClickProfile:function(){"TEMPORARY_AGENT"!==l&&(h.replace("/~".concat(l,"/profile"),void 0,{shallow:!0}),n&&n())}})})};t.default=function(e){var t=e.isMobileMenu,n=e.closeMenu;return(0,s.jsxs)(_,{isMobileMenu:t,children:[(0,s.jsx)(N,{closeMenu:n}),(0,s.jsx)(j,{}),(0,s.jsx)(y,{isMobileMenu:t,closeMenu:n}),null]})}}}]);