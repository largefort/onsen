"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8410],{8971:function(e,n,t){var i,o=t(7294);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}n.Z=function(e){return o.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:15,height:9,fill:"none"},e),i||(i=o.createElement("path",{stroke:"currentColor",d:"M14 1 7.636 7.364 1.272 1"})))}},8410:function(e,n,t){t.r(n);var i=t(2253),o=t(4932),s=t(4043),r=t(248),a=t(5893),l=t(8971),u=t(4689),c=t(8262),d=t(362),g=t(2060),f=t(3933),h=t(4862),p=t(3293),m=t(1016),v=t(1526),x=t(5947),w=t(1163),_=t(7294),y=function(){return(0,a.jsx)("hr",{className:"text-[#393849]"})},M=function(e){var n=e.closeMenu,t=e.isMobileMenu,i=(0,d.a)(),o=i.refs,u=i.questionsPage,f=i.pageAction,x=i.pageActionData,y=i.methods,M=y.setAgentInfo,j=y.setQuestionsPage,N=y.setAlreadyAskedQuestions,k=i.agentInfo,E=k.sampleQuestions,A=k.originalQuestions,T=k.chatId,C=(0,_.useRef)(null),S=(0,g.MI)().queryAgent,q=(0,c.useEventLogger)().eventLogger,P=(0,s._)((0,_.useState)(15),2),R=P[0],G=P[1],Q=(0,w.useRouter)(),D=function(){if(C.current){var e=C.current.scrollHeight,n=C.current.clientHeight;C.current.scrollTo({top:e-n,behavior:"smooth"})}},I=function(e,t){n&&n();var i,s,a=(0,r._)(E);a.splice(t,1),M({sampleQuestions:a}),S(e,q,!0,{click_location:"agent_menu"}),N(function(n){return(0,r._)(n).concat([e])}),T&&"N/A"!==T?q(p.uE.SUGGESTED_QUERY_MADE,{query:e,message:e,click_location:"agent_menu"}):(0,h.h$)({eventName:p.uE.SUGGESTED_QUERY_MADE,payload:{query:e,message:e,click_location:"agent_menu"}}),null==o||null===(s=o.input)||void 0===s||null===(i=s.current)||void 0===i||i.focus()};(0,_.useEffect)(function(){("suggestions"!==f||u!==parseInt(x))&&u>0&&setTimeout(D,75)},[u]);var O=(null==A?void 0:A.length)>(null==E?void 0:E.length);return(0,a.jsxs)("div",{className:"grid grid-rows-auto-1fr overflow-y-hidden !gap-y-4",children:[(0,a.jsx)("h2",{className:"font-mono text-xl uppercase",children:"Suggestions"}),(null==E?void 0:E.length)?(0,a.jsx)(m.m.ul,{ref:C,"data-cy":"suggested_questions_list",className:"grid gap-y-4 auto-rows-min h-full overflow-x-hidden overflow-y-auto",children:(0,a.jsx)(v.M,{initial:!1,children:E.filter(function(e,n){return n<R}).map(function(e,n){return(0,a.jsx)(b,{isMobileMenu:t,questionText:e,onClick:function(){I(e,n)}},n)})})}):(0,a.jsx)("div",{className:"grid grid-rows-1fr-min",children:(0,a.jsx)("p",{className:"text-lightText",children:"There are no suggestions to show"})}),O||R<E.length&&E.length>15?(0,a.jsxs)("button",{"data-cy":"show_more_questions",className:"font-mono grid-cols-auto-1fr gap-x-2 items-center grid justify-self-end underline",onClick:function(){G(function(e){return e+15});var e,n=Number(null===(e=Q.asPath)||void 0===e?void 0:e.split("/").pop());n?j(n+1):j(1)},children:["Show more ",(0,a.jsx)(l.Z,{})]}):null]})},b=function(e){var n=e.questionText,t=e.onClick,r=e.isMobileMenu,l=(0,s._)((0,x.oO)(),2),u=l[0],c=l[1];return(0,a.jsx)(m.m.li,(0,o._)((0,i._)({},r?{}:{layout:!0,initial:"out",animate:u?"in":"out",whileTap:"tapped",variants:{in:{scaleY:1,opacity:1},tapped:{scale:.98,opacity:.5,transition:{duration:.1}}},onAnimationComplete:function(){return!u&&c()},transition:{type:"spring",stiffness:500,damping:50,mass:1}}),{children:(0,a.jsx)(f.T,{"data-cy":"single_question_in_right_menu",source:"right-menu",containerClassName:"!rounded-[5px] !w-full",onClick:t,questionText:n})}))},j=function(e){var n=e.children,t=e.isMobileMenu;return(0,a.jsx)(v.M,{children:(0,a.jsx)("div",{className:"".concat(t?"!grid":"hidden lg:grid"," overflow-y-hidden grid grid-cols-1fr-min max-lg:top-0 w-full max-lg:bg-panel py-3 justify-center sm:w-[400px] overflow-x-hidden px-5 border-b border-b-darkBackground bg-panel lg:bg-darkBackground grid-rows-1fr-auto z-0"),children:(0,a.jsx)("div",{"data-cy":"right_menu_profile_questions",className:"overflow-y-hidden pt-3 max-lg:bg-panel flex-grow grid lg:grid-rows-auto-auto-auto-1fr gap-y-6 gap-2 relative",children:n})})})},N=function(e){var n,t=e.closeMenu,i=(0,d.a)(),o=i.isAgentMaker,s=i.chatScrollState,r=i.agentInfo,l=r.publicName,c=r.displayName,g=r.configuration,f=(0,w.useRouter)();return(0,a.jsx)("div",{className:"grid justify-start w-full",children:(0,a.jsx)(u.n8,{isEditable:!1,shouldPushAvatarToTop:!1,showStats:!1,title:c,onClick:function(){try{window.parent.postMessage({event:"AGENT_CHANGE",data:l},"https://studio.oneai.com")}catch(e){}},publicName:l,isAgentMaker:o,avatar:(null==g?void 0:null===(n=g.widget)||void 0===n?void 0:n.avatar)||"",titleClassName:"!text-start",type:"SMALL",avatarDimensions:"!h-[64px] !w-[64px] !clip-64",containerClassName:"!grid-cols-auto-1fr",chatScrollState:s,shouldShowReadProfile:!0,onClickProfile:function(){"TEMPORARY_AGENT"!==l&&(f.replace("/~".concat(l,"/profile"),void 0,{shallow:!0}),t&&t())}})})};n.default=function(e){var n=e.isMobileMenu,t=e.closeMenu;return(0,a.jsxs)(j,{isMobileMenu:n,children:[(0,a.jsx)(N,{closeMenu:t}),(0,a.jsx)(y,{}),(0,a.jsx)(M,{isMobileMenu:n,closeMenu:t}),null]})}}}]);