"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1680],{2870:function(e,t,a){var n,i=a(7294);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 26 26"},e),n||(n=i.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 13 2.667-2.667m0 0L13 1l9.333 9.333m-18.666 0v13.334A1.333 1.333 0 0 0 5 25h4m13.333-14.667L25 13m-2.667-2.667v13.334A1.333 1.333 0 0 1 21 25h-4m-8 0a1.334 1.334 0 0 0 1.333-1.333v-5.334A1.333 1.333 0 0 1 11.667 17h2.666a1.333 1.333 0 0 1 1.334 1.333v5.334A1.333 1.333 0 0 0 17 25m-8 0h8"})))}},1680:function(e,t,a){a.r(t),a.d(t,{TopBar:function(){return b}});var n=a(5893),i=a(2870),r=a(2060),s=a(9844),o=a(3918),l=a(3293),c=a(5152),d=a.n(c),u=a(1664),g=a.n(u),h=a(4689),m=a(1851),p=a(8262),x=a(3197),f=a(362),v=function(){var e=(0,p.useEventLogger)().eventLogger;return(0,f.a)().isAgentMaker?null:(0,n.jsx)(g(),{target:"_blank",href:"https://oneai.com/agent/contact",className:"bg-blue rounded px-4 py-2 w-fit text-white font-mono text-sm uppercase",onClick:function(){e(o.V1.CLICKED_CLAIM_AGENT)},children:"Claim this agent"})},j=a(548),N=d()(function(){return Promise.resolve().then(a.bind(a,9927))},{loadableGenerated:{webpack:function(){return[9927]}}}),w=d()(function(){return a.e(8202).then(a.bind(a,8202))},{loadableGenerated:{webpack:function(){return[8202]}}}),b=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{}),(0,n.jsx)(C,{})]})},A=function(){var e,t=(0,f.a)(),a=t.isAgentMaker,i=t.chatScrollState,r=t.ownsActiveAgent,s=t.agentInfo,l=s.publicName,c=s.configuration,d=s.displayName,u=(0,m.useProgress)().isShowingProgressBar,g=(0,p.useEventLogger)().eventLogger;return(0,n.jsxs)("div",{className:"grid relative bg-[#302F43]",id:"top-header",children:[(0,n.jsx)(k,{isAbsolute:!0}),(0,n.jsx)(y,{}),(0,n.jsxs)("div",{"data-cy":"top_header_area",id:"MIDDLE"===i?"desktop_top_actions_middle_".concat(l):"desktop_top_actions_top_".concat(l),className:"grid md:gap-x-2.5 ".concat(u?"":"shadow-topBlackLight dark:shadow-bottomSmallBlack lg:shadow-bottomLargeBlack","  gap-y-2 items-center py-2  ").concat("TOP"===i?"justify-center grid-rows-auto-1fr":"justify-start px-0.5 grid-cols-1fr-auto"),children:[(0,n.jsx)("div",{className:"grid items-center max-lg:justify-self-center w-fit place-items-center",children:(0,n.jsx)(h.n8,{isEditable:r,shouldPushAvatarToTop:!0,showStats:!0,title:d,onClick:function(e){if(a){e.preventDefault(),e.stopPropagation();return}try{window.parent.postMessage({event:"AGENT_CHANGE",data:l},"https://studio.oneai.com")}catch(e){}g(o.V1.AVATAR_CLICKED)},publicName:l,titleClassName:"MIDDLE"===i?"lg:text-start":"",isAgentMaker:a,avatar:null==c?void 0:null===(e=c.widget)||void 0===e?void 0:e.avatar,type:"MIDDLE"===i?"SMALL":"BIG",chatScrollState:i,innerLink:!0})}),"TOP"===i?(0,n.jsx)(I,{showNavigateToHub:!1,type:"BIG"}):(0,n.jsx)(k,{})]})]})},y=function(){var e=(0,x.IA)().isAdmin,t=(0,f.a)(),a=t.isAgentMaker,i=t.chatScrollState,o=(0,r.t6)().data,l=(0,s.Ye)((null==o?void 0:o.created_date)||""),c=(0,s.Ye)((null==o?void 0:o.modified_date)||"");return e&&o&&!a&&"MIDDLE"!==i?(0,n.jsxs)("div",{className:"absolute top-0 left-0 p-4 pl-6 text-lightText grid grid-rows-auto-1fr gap-y-2 animate-fade-in-long",children:[(0,n.jsxs)("div",{className:"grid grid-rows-auto-1fr text-xs",children:[(0,n.jsx)("span",{className:"underline",children:"Created Date"})," ",l]}),c?(0,n.jsxs)("div",{className:"grid grid-rows-auto-1fr text-xs",children:[(0,n.jsx)("span",{className:"underline",children:"Modification Date"})," ",c]}):null]}):null},k=function(e){var t=e.isAbsolute,a=(0,f.a)(),i=a.chatScrollState,s=a.isAgentMaker,o=a.userInfo,c=o.userId,d=o.isTemporaryUser,u=a.agentInfo,g=u.publicName,h=u.claimed,m=u.agentAccess,p=u.orgId,w=(0,x.aF)().data,b=(0,r.x)().data,A=!!Array.isArray(null==b?void 0:b.myAgents)&&b.myAgents.some(function(e){return e.public_name===g}),y=(null==w?void 0:w.orgId)===p;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"top-5 z-10 ".concat(t?"absolute right-4":"grid grid-cols-auto-auto-1fr gap-x-1 pr-3"," ").concat("MIDDLE"===i&&t?"hidden":"","  "),children:["MIDDLE"===i?(0,n.jsx)("div",{className:"grid items-center",children:(0,n.jsx)(N,{})}):null,s?null:A||y||h||!c||d?(0,n.jsx)(j.Z,{id:"1"}):m===l.b8.public_write?(0,n.jsx)(v,{}):null]})})},S=function(){var e,t=(0,f.a)(),a=t.isAgentMaker,i=t.ownsActiveAgent,r=t.agentInfo,s=r.publicName,o=r.configuration,l=r.displayName,c=(0,m.useProgress)().isShowingProgressBar,d=(0,f.a)().chatScrollState;return(0,n.jsxs)("div",{className:"px-2 ".concat("TOP"===d?"hidden":""," grid md:gap-x-2.5 ").concat(c?"":"shadow-topBlackLight dark:shadow-bottomSmallBlack"," lg:shadow-bottomLargeBlack items-center py-2 grid-cols-auto-1fr-auto"),children:[(0,n.jsxs)("div",{className:"grid grid-cols-auto-1fr gap-x-2",children:[(0,n.jsx)(I,{type:"SMALL"}),(0,n.jsx)("div",{className:"grid items-center w-fit place-items-center",children:(0,n.jsx)(h.n8,{avatar:null==o?void 0:null===(e=o.widget)||void 0===e?void 0:e.avatar,onClick:function(e){if(a){e.preventDefault(),e.stopPropagation();return}},isAgentMaker:a,isEditable:i,publicName:s,showStats:!0,shouldPushAvatarToTop:!0,title:l,chatScrollState:d,type:"SMALL",innerLink:!0})})]}),(0,n.jsx)("div",{className:"justify-self-end grid",children:(0,n.jsx)(E,{})})]})},L=function(){var e,t=(0,f.a)(),a=t.isAgentMaker,i=t.ownsActiveAgent,r=t.agentInfo,s=r.publicName,o=r.configuration,l=r.displayName,c=(0,f.a)().chatScrollState;return(0,n.jsxs)("div",{className:"grid  ".concat(""," md:gap-x-2.5 items-center  py-2 lg:gap-y-[50px] ").concat("TOP"===c?"grid-rows-auto-1fr":"grid-cols-auto-1fr-auto"),children:[(0,n.jsx)(I,{type:"BIG"}),(0,n.jsx)("div",{className:"grid items-center ".concat("TOP"===c?"max-lg:justify-self-center":""," w-fit place-items-center"),children:(0,n.jsx)(h.n8,{avatar:null==o?void 0:null===(e=o.widget)||void 0===e?void 0:e.avatar,onClick:function(e){if(a){e.preventDefault(),e.stopPropagation();return}try{window.parent.postMessage({event:"AGENT_CHANGE",data:s},"https://studio.oneai.com")}catch(e){}},isAgentMaker:a,isEditable:i,publicName:s,showStats:!0,shouldPushAvatarToTop:!0,title:l,chatScrollState:c,containerClassName:a?"-mt-4":"!-mt-8",type:"BIG",innerLink:!0})})]})},I=function(e){var t=e.type,a=e.showNavigateToHub;return(0,n.jsx)(T,{showNavigateToHub:a,type:t})},T=function(e){var t=e.type,a=e.showNavigateToHub,i=void 0===a||a,r=(0,f.a)(),s=r.chatScrollState,o=r.agentInfo.publicName;return(0,n.jsxs)("div",{id:"desktop_top_actions_".concat(o),className:"grid z-10 ".concat("TOP"===s&&i?"grid-cols-2 pl-4 pr-2.5":"","  items-center "),children:[i?(0,n.jsx)(_,{}):null,"TOP"===s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid ".concat(i?"":"justify-self-center"," items-center max-lg:hidden")}),(0,n.jsx)("div",{className:"grid justify-self-end",children:"BIG"===t?(0,n.jsxs)("div",{className:"grid grid-cols-auto-auto",children:[(0,n.jsx)(w,{}),(0,n.jsx)("div",{className:"lg:hidden",children:(0,n.jsx)(j.Z,{id:"3"})})]}):null})]}):null]})},_=function(){var e=(0,f.a)().isAtWidgetOrIframe;return(0,n.jsx)(g(),{href:"/~/",target:e?"_blank":"",className:"h-9 w-9 hover:bg-lightText hover:bg-opacity-20 rounded-md cursor-pointer font-mono uppercase justify-center items-center flex text-white","aria-label":"Go to hub",children:(0,n.jsx)(i.Z,{className:"dark:!text-white text-black"})})},D=function(){var e=(0,f.a)().chatScrollState;return(0,n.jsx)("div",{className:"max-lg:hidden lg:!h-[150px]",children:(0,n.jsx)("div",{className:"grid grid-cols-1fr-auto lg:max-w-[980px] w-full mx-auto max-lg:hidden z-30 ".concat("MIDDLE"===e?"absolute top-0 w-full":""),children:(0,n.jsxs)("div",{className:"lg:grid grid-cols-1fr-auto gap-y-2 items-center transition-all duration-150",children:[(0,n.jsx)(A,{}),"TOP"===e?(0,n.jsx)(E,{}):null]})})})},E=function(){var e=(0,f.a)().chatScrollState;return(0,n.jsx)("div",{className:"grid items-center bg-[#302F43] justify-center ".concat("TOP"===e?"pt-2":""),children:(0,n.jsxs)("div",{className:"grid  ".concat("TOP"===e?" gap-x-6":"gap-x-2"," items-center justify-center lg:hidden ").concat("MIDDLE"===e?"grid-cols-2 min-w-[100px]":"grid-cols-2"),children:[(0,n.jsx)(N,{}),"MIDDLE"===e?(0,n.jsx)(w,{}):null]})})},M=function(){return(0,n.jsx)("div",{className:"fixed w-full top-0 z-20 bg-panel animate-fade-in duration-75",children:(0,n.jsx)(S,{})})},P=function(){return(0,n.jsx)("div",{className:"bg-panel",children:(0,n.jsx)(L,{})})},C=function(){return(0,f.a)().chatScrollState,(0,n.jsxs)("div",{className:"lg:hidden bg-panel !h-[140px]",children:[(0,n.jsx)(P,{}),(0,n.jsx)(M,{})]})}}}]);